# üå∏ Flower Bot - Quick Study Guide

## –ß—Ç–æ —ç—Ç–æ –∑–∞ –ø—Ä–æ–µ–∫—Ç? (What is this project?)

**flower-bot** (@geography_flower_bot) - —ç—Ç–æ –ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π Telegram –±–æ—Ç –¥–ª—è –¥–æ—Å—Ç–∞–≤–∫–∏ —Ü–≤–µ—Ç–æ–≤ —Å –∏—Å–∫—É—Å—Å—Ç–≤–µ–Ω–Ω—ã–º –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç–æ–º.

**flower-bot** (@geography_flower_bot) is an advanced Telegram bot for flower delivery with artificial intelligence.

---

## üìä –ö—Ä–∞—Ç–∫–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è (Quick Facts)

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –ó–Ω–∞—á–µ–Ω–∏–µ |
|----------|----------|
| **–Ø–∑—ã–∫ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è** | Python 3.11+ |
| **–§—Ä–µ–π–º–≤–æ—Ä–∫** | python-telegram-bot 21.0 |
| **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö** | SQLite / PostgreSQL |
| **–°—Ç–∏–ª—å –∫–æ–¥–∞** | Async/await, Type hints |
| **–°—Ç—Ä–æ–∫ –∫–æ–¥–∞** | ~2,500+ |
| **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π** | 12 –ø–∞–∫–µ—Ç–æ–≤ |
| **–ú–æ–¥–µ–ª–µ–π –ë–î** | 3 (User, Flower, Order) |
| **–ö–æ–º–∞–Ω–¥ –±–æ—Ç–∞** | 5 –æ—Å–Ω–æ–≤–Ω—ã—Ö |

---

## üéØ –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ (Main Features)

### 1. üå∏ –ö–∞—Ç–∞–ª–æ–≥ —Ü–≤–µ—Ç–æ–≤ (Telegram Mini App)
- –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –≥–∞–ª–µ—Ä–µ—è –±—É–∫–µ—Ç–æ–≤
- –§–∏–ª—å—Ç—Ä –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º
- –ö–æ—Ä–∑–∏–Ω–∞ –ø–æ–∫—É–ø–æ–∫
- –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π –¥–∏–∑–∞–π–Ω

### 2. ü§ñ AI-—Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ (Perplexity API)
```
–§–æ—Ä–º–∞—Ç: –ø–æ–≤–æ–¥:–¥–µ–Ω—å —Ä–æ–∂–¥–µ–Ω–∏—è, –±—é–¥–∂–µ—Ç:2000, —Ü–≤–µ—Ç:–∫—Ä–∞—Å–Ω—ã–π
–†–µ–∑—É–ª—å—Ç–∞—Ç: –£–º–Ω—ã–π –ø–æ–¥–±–æ—Ä –±—É–∫–µ—Ç–∞ –Ω–∞ –æ—Å–Ω–æ–≤–µ –ò–ò
```

### 3. üé® –ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –±—É–∫–µ—Ç–æ–≤ (FSM)
**–®–∞–≥ 1:** –í—ã–±–æ—Ä —Ü–≤–µ—Ç–∞ (–∫—Ä–∞—Å–Ω—ã–π, –∂—ë–ª—Ç—ã–π, —Å–∏–Ω–∏–π, –∏ —Ç.–¥.)  
**–®–∞–≥ 2:** –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ü–≤–µ—Ç–æ–≤ (5, 7, 11, 15, 21, 25)  
**–®–∞–≥ 3:** –î–æ–ø–æ–ª–Ω–µ–Ω–∏—è (–ª–µ–Ω—Ç–∞, —É–ø–∞–∫–æ–≤–∫–∞, –º–∏—à–∫–∞, –∫–æ–Ω—Ñ–µ—Ç—ã)  
**–†–µ–∑—É–ª—å—Ç–∞—Ç:** AI-–≥–µ–Ω–µ—Ä–∞—Ü–∏—è –ø—Ä–µ–≤—å—é (Stable Diffusion –∏–ª–∏ Pillow)

### 4. üìç –£–º–Ω–∞—è –¥–æ—Å—Ç–∞–≤–∫–∞
- –û—Ç–ø—Ä–∞–≤–∫–∞ –≥–µ–æ–ª–æ–∫–∞—Ü–∏–∏
- Yandex Geocoder ‚Üí –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∞–¥—Ä–µ—Å–∞
- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç –¥–ª—è –º–∞—Ä—à—Ä—É—Ç–∞

### 5. üí∞ –û–ø–ª–∞—Ç–∞ TON Stars
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Telegram Stars
- –°–æ–∑–¥–∞–Ω–∏–µ –∏–Ω–≤–æ–π—Å–æ–≤
- –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ –æ–ø–ª–∞—Ç—ã

### 6. üîß –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å
- CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å —Ü–≤–µ—Ç–∞–º–∏
- –ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–æ—Ç–æ –≤ MinIO
- –ü—Ä–æ—Å–º–æ—Ç—Ä –∑–∞–∫–∞–∑–æ–≤
- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

---

## üóÇÔ∏è –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞ (Project Structure)

```
flower-bot/
‚îú‚îÄ‚îÄ bot.py                    # –ì–ª–∞–≤–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
‚îú‚îÄ‚îÄ database.py               # –ú–æ–¥–µ–ª–∏ SQLAlchemy
‚îú‚îÄ‚îÄ requirements.txt          # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îÇ
‚îú‚îÄ‚îÄ handlers/                 # –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∫–æ–º–∞–Ω–¥
‚îÇ   ‚îú‚îÄ‚îÄ flowers.py           # /start, /recommend, /build
‚îÇ   ‚îú‚îÄ‚îÄ orders.py            # –ö–æ—Ä–∑–∏–Ω–∞, –æ–ø–ª–∞—Ç–∞, –¥–æ—Å—Ç–∞–≤–∫–∞
‚îÇ   ‚îî‚îÄ‚îÄ admin.py             # –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å
‚îÇ
‚îú‚îÄ‚îÄ webapp/                   # Telegram Mini App
‚îÇ   ‚îú‚îÄ‚îÄ index.html
‚îÇ   ‚îú‚îÄ‚îÄ css/style.css
‚îÇ   ‚îî‚îÄ‚îÄ js/app.js
‚îÇ
‚îú‚îÄ‚îÄ docs/                     # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ ARCHITECTURE.md      # –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ (920 —Å—Ç—Ä–æ–∫)
‚îÇ   ‚îî‚îÄ‚îÄ screenshots/
‚îÇ
‚îú‚îÄ‚îÄ PROJECT_ANALYSIS.md       # –ü–æ–ª–Ω—ã–π –∞–Ω–∞–ª–∏–∑ (922 —Å—Ç—Ä–æ–∫–∏)
‚îú‚îÄ‚îÄ README.md                 # –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
‚îú‚îÄ‚îÄ IMPLEMENTATION.md         # –î–µ—Ç–∞–ª–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏
‚îú‚îÄ‚îÄ TESTING.md                # –ß–µ–∫-–ª–∏—Å—Ç —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
‚îÇ
‚îú‚îÄ‚îÄ Dockerfile                # –°–±–æ—Ä–∫–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
‚îú‚îÄ‚îÄ docker-compose.yml        # –õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞
‚îî‚îÄ‚îÄ railway.yaml              # –î–µ–ø–ª–æ–π –Ω–∞ Railway
```

---

## üîå –í–Ω–µ—à–Ω–∏–µ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ (External APIs)

| –°–µ—Ä–≤–∏—Å | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ | –°—Ç–∞—Ç—É—Å |
|--------|------------|--------|
| **Perplexity API** | AI-—Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –±—É–∫–µ—Ç–æ–≤ | –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ (–µ—Å—Ç—å fallback) |
| **Stable Diffusion** | –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π | –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ (–µ—Å—Ç—å Pillow fallback) |
| **Yandex Geocoder** | –ö–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã ‚Üí –∞–¥—Ä–µ—Å | –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ |
| **MinIO / S3** | –•—Ä–∞–Ω–µ–Ω–∏–µ —Ñ–æ—Ç–æ | –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ |
| **Telegram Bot API** | –û—Å–Ω–æ–≤–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª | **–û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ** |

---

## üóÑÔ∏è –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö (Database Schema)

### –¢–∞–±–ª–∏—Ü–∞ Users
```sql
- user_id (PK)           # Telegram ID
- username, first_name   # –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ
- preferred_colors       # –ü—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏—è –ø–æ —Ü–≤–µ—Ç–∞–º
- preferred_budget       # –ü—Ä–µ–¥–ø–æ—á–∏—Ç–∞–µ–º—ã–π –±—é–¥–∂–µ—Ç
- reminder_enabled       # –í–∫–ª—é—á–µ–Ω—ã –ª–∏ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è
```

### –¢–∞–±–ª–∏—Ü–∞ Flowers
```sql
- id (PK)               # ID —Ü–≤–µ—Ç–∫–∞
- name                  # –ù–∞–∑–≤–∞–Ω–∏–µ –±—É–∫–µ—Ç–∞
- description           # –û–ø–∏—Å–∞–Ω–∏–µ
- price                 # –¶–µ–Ω–∞ –≤ —Ä—É–±–ª—è—Ö
- photo_url             # –°—Å—ã–ª–∫–∞ –Ω–∞ —Ñ–æ—Ç–æ (MinIO)
- category              # –ö–∞—Ç–µ–≥–æ—Ä–∏—è (roses, tulips, ...)
- available             # –î–æ—Å—Ç—É–ø–µ–Ω –¥–ª—è –∑–∞–∫–∞–∑–∞?
```

### –¢–∞–±–ª–∏—Ü–∞ Orders
```sql
- id (PK)               # ID –∑–∞–∫–∞–∑–∞
- user_id (FK)          # –°—Å—ã–ª–∫–∞ –Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- bouquet_json          # JSON —Å –¥–µ—Ç–∞–ª—è–º–∏ –±—É–∫–µ—Ç–∞
- total_price           # –û–±—â–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å
- delivery_address      # –ê–¥—Ä–µ—Å –¥–æ—Å—Ç–∞–≤–∫–∏
- geo_latitude/longitude # –ö–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã
- status                # pending/paid/processing/delivered
- payment_status        # unpaid/paid/refunded
```

---

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç (Quick Start)

### –í–∞—Ä–∏–∞–Ω—Ç 1: –õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞
```bash
# 1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
git clone https://github.com/Malahit/flower-bot.git
cd flower-bot

# 2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
pip install -r requirements.txt

# 3. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å .env
cp .env.example .env
nano .env  # –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å TELEGRAM_BOT_TOKEN

# 4. –ó–∞–ø—É—Å—Ç–∏—Ç—å –±–æ—Ç–∞
python bot.py
```

### –í–∞—Ä–∏–∞–Ω—Ç 2: Docker Compose
```bash
# 1. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å .env
cp .env.example .env

# 2. –ó–∞–ø—É—Å—Ç–∏—Ç—å –≤—Å–µ —Å–µ—Ä–≤–∏—Å—ã
docker-compose up -d

# 3. –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ª–æ–≥–∏
docker-compose logs -f bot
```

### –í–∞—Ä–∏–∞–Ω—Ç 3: Railway (Production)
```bash
# 1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Railway CLI
npm install -g @railway/cli

# 2. –ó–∞–ª–æ–≥–∏–Ω–∏—Ç—å—Å—è
railway login

# 3. –ó–∞–¥–µ–ø–ª–æ–∏—Ç—å
railway up
```

---

## üí° –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è (Usage Examples)

### AI-—Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è
```
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: –ø–æ–≤–æ–¥:—Å–≤–∞–¥—å–±–∞, –±—é–¥–∂–µ—Ç:5000, —Ü–≤–µ—Ç:–±–µ–ª—ã–π

–ë–æ—Ç: üå∏ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è –Ω–∞ –æ—Å–Ω–æ–≤–µ –≤–∞—à–∏—Ö –ø–æ–∂–µ–ª–∞–Ω–∏–π:
     üíê –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º: –ü–∏–æ–Ω—ã –Ω–µ–∂–Ω—ã–µ
     –¶–µ–Ω–∞: 3200‚ÇΩ
```

### –°–æ–∑–¥–∞–Ω–∏–µ –±—É–∫–µ—Ç–∞
```
1. /build
2. –í—ã–±—Ä–∞—Ç—å —Ü–≤–µ—Ç: üî¥ –ö—Ä–∞—Å–Ω—ã–π
3. –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ: 15 —Ü–≤–µ—Ç–æ–≤
4. –î–æ–ø–æ–ª–Ω–µ–Ω–∏—è: üéÄ –õ–µ–Ω—Ç–∞
5. –ü–æ–ª—É—á–∏—Ç—å –ø—Ä–µ–≤—å—é —Å AI
6. –î–æ–±–∞–≤–∏—Ç—å –≤ –∫–æ—Ä–∑–∏–Ω—É
```

### –û—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ –∑–∞–∫–∞–∑–∞
```
1. /cart ‚Üí –ü—Ä–æ—Å–º–æ—Ç—Ä –∫–æ—Ä–∑–∏–Ω—ã
2. "–û—Ñ–æ—Ä–º–∏—Ç—å –∑–∞–∫–∞–∑"
3. –û—Ç–ø—Ä–∞–≤–∏—Ç—å –≥–µ–æ–ª–æ–∫–∞—Ü–∏—é üìç
4. –ê–¥—Ä–µ—Å –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
5. "–û–ø–ª–∞—Ç–∏—Ç—å TON Stars" ‚Üí –û–ø–ª–∞—Ç–∞
6. –ó–∞–∫–∞–∑ —Å–æ–∑–¥–∞–Ω! ‚úÖ
```

---

## üîê –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è (Environment Variables)

### –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ
```bash
TELEGRAM_BOT_TOKEN=1234567890:ABC...
```

### –î–ª—è –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏
```bash
ADMIN_IDS=123456789,987654321
```

### –î–ª—è production
```bash
DATABASE_URL=postgresql://user:pass@host/db
WEBHOOK_URL=https://bot.example.com
```

### –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ (–¥–ª—è —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π)
```bash
PERPLEXITY_API_KEY=pplx-xxx
YANDEX_GEOCODE_API_KEY=xxx
STABLE_DIFFUSION_API_URL=http://localhost:7860
MINIO_ENDPOINT=minio.example.com:9000
MINIO_ACCESS_KEY=xxx
MINIO_SECRET_KEY=xxx
```

---

## üéì –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ (Technical Highlights)

### Async/Await
```python
async def start(update: Update, context: ContextTypes.DEFAULT_TYPE):
    async with async_session_maker() as session:
        result = await session.execute(query)
```

### Type Hints
```python
def get_flowers() -> List[Flower]:
    ...

async def create_order(user_id: int, price: float) -> Order:
    ...
```

### FSM (Finite State Machine)
```python
ConversationHandler(
    entry_points=[...],
    states={
        SELECT_COLOR: [...],
        SELECT_QUANTITY: [...],
        SELECT_ADDONS: [...]
    },
    fallbacks=[...]
)
```

### Error Handling
```python
try:
    result = await external_api()
except httpx.HTTPError:
    logger.error("API unavailable")
    # Fallback to alternative
```

---

## üìà –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å (Performance)

- **–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞:** –ü–æ–ª–Ω–æ—Å—Ç—å—é –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è (async/await)
- **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö:** Connection pooling —á–µ—Ä–µ–∑ SQLAlchemy
- **–ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ:** –î–æ 10,000+ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —Å webhook mode
- **–†–µ–∂–∏–º —Ä–∞–±–æ—Ç—ã:**
  - **Polling:** –î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ (<1000 –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π)
  - **Webhook:** –î–ª—è production (10,000+ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π)

---

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å (Security)

‚úÖ **–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ:**
- –ù–µ—Ç —Ö–∞—Ä–¥–∫–æ–¥-—Å–µ–∫—Ä–µ—Ç–æ–≤
- SQLAlchemy ORM (–∑–∞—â–∏—Ç–∞ –æ—Ç SQL injection)
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤ –∞–¥–º–∏–Ω–∞ (ADMIN_IDS)
- –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –¥–ª—è –≤—Å–µ—Ö —Å–µ–∫—Ä–µ—Ç–æ–≤
- HTTPS –¥–ª—è webhook

‚ö†Ô∏è **–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è:**
- Rate limiting –¥–ª—è API
- –í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- CSRF –∑–∞—â–∏—Ç–∞ –¥–ª—è Mini App
- –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –∞–ª–µ—Ä—Ç—ã

---

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è (Documentation)

| –§–∞–π–ª | –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ | –°—Ç—Ä–æ–∫ |
|------|-----------|-------|
| **PROJECT_ANALYSIS.md** | –ü–æ–ª–Ω—ã–π –∞–Ω–∞–ª–∏–∑ –ø—Ä–æ–µ–∫—Ç–∞ | 922 |
| **docs/ARCHITECTURE.md** | –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å –¥–∏–∞–≥—Ä–∞–º–º–∞–º–∏ | 920 |
| **README.md** | –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è | 294 |
| **IMPLEMENTATION.md** | –î–µ—Ç–∞–ª–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ | 242 |
| **TESTING.md** | –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ | - |

---

## üéØ –î–ª—è –∫–æ–≥–æ —ç—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç? (Who is this for?)

### –†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∏
- ‚úÖ –ò–∑—É—á–µ–Ω–∏–µ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ Telegram –±–æ—Ç–æ–≤
- ‚úÖ –ü—Ä–∏–º–µ—Ä—ã –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ AI (Perplexity, Stable Diffusion)
- ‚úÖ –ü–∞—Ç—Ç–µ—Ä–Ω—ã async Python
- ‚úÖ –†–∞–±–æ—Ç–∞ —Å Telegram Mini Apps
- ‚úÖ FSM (Finite State Machines) –¥–ª—è —Å–ª–æ–∂–Ω—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤

### –í–ª–∞–¥–µ–ª—å—Ü—ã –±–∏–∑–Ω–µ—Å–∞
- ‚úÖ Ready-to-deploy —Ä–µ—à–µ–Ω–∏–µ –¥–ª—è –¥–æ—Å—Ç–∞–≤–∫–∏ —Ü–≤–µ—Ç–æ–≤
- ‚úÖ TON Stars –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –¥–ª—è –∫—Ä–∏–ø—Ç–æ-–ø–ª–∞—Ç–µ–∂–µ–π
- ‚úÖ –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫–∞—Ç–∞–ª–æ–≥–æ–º
- ‚úÖ AI –¥–ª—è –ø–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∞—Ü–∏–∏

### –°—Ç—É–¥–µ–Ω—Ç—ã
- ‚úÖ –£—á–µ–±–Ω—ã–π –ø—Ä–æ–µ–∫—Ç —Å best practices
- ‚úÖ –ü—Ä–∏–º–µ—Ä—ã –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ –≤–Ω–µ—à–Ω–∏—Ö API
- ‚úÖ Docker –∏ –¥–µ–ø–ª–æ–π –Ω–∞ Railway
- ‚úÖ –†–∞–±–æ—Ç–∞ —Å –±–∞–∑–∞–º–∏ –¥–∞–Ω–Ω—ã—Ö (SQLAlchemy)

---

## ‚≠ê –û—Ü–µ–Ω–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞ (Project Rating)

### –°–∏–ª—å–Ω—ã–µ —Å—Ç–æ—Ä–æ–Ω—ã
‚úÖ –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π tech stack (Bot API 9.x, async, type hints)  
‚úÖ Production-ready (Docker, webhook, environment config)  
‚úÖ –ë–æ–≥–∞—Ç—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª (AI, Mini App, TON Stars)  
‚úÖ –û—Ç–ª–∏—á–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è  
‚úÖ –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å (ORM, env vars)  

### –ß—Ç–æ –º–æ–∂–Ω–æ —É–ª—É—á—à–∏—Ç—å
‚ö†Ô∏è –¢–µ—Å—Ç—ã (–Ω—É–∂–Ω–æ –±–æ–ª—å—à–µ –∞–≤—Ç–æ—Ç–µ—Å—Ç–æ–≤)  
‚ö†Ô∏è –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ (–Ω–µ—Ç –º–µ—Ç—Ä–∏–∫ –∏ –∞–ª–µ—Ä—Ç–æ–≤)  
‚ö†Ô∏è –ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å (state –≤ –ø–∞–º—è—Ç–∏, –Ω—É–∂–µ–Ω Redis)  

### –ò—Ç–æ–≥–æ–≤–∞—è –æ—Ü–µ–Ω–∫–∞: ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê (5/5)

**–≠—Ç–æ –æ–±—Ä–∞–∑—Ü–æ–≤–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è Telegram –±–æ—Ç–∞, –≥–æ—Ç–æ–≤–∞—è –∫ production –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é!**

---

## üîó –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏ (Useful Links)

- **Telegram Bot API:** https://core.telegram.org/bots/api
- **python-telegram-bot:** https://docs.python-telegram-bot.org/
- **SQLAlchemy Async:** https://docs.sqlalchemy.org/en/20/orm/extensions/asyncio.html
- **Telegram Mini Apps:** https://core.telegram.org/bots/webapps
- **Railway Deployment:** https://railway.app/

---

## ü§ù –ö–æ–Ω—Ç–∞–∫—Ç—ã (Contacts)

- **Bot:** @geography_flower_bot
- **GitHub:** https://github.com/Malahit/flower-bot
- **Issues:** https://github.com/Malahit/flower-bot/issues

---

**Made with üå∏ and ‚ù§Ô∏è**

**–î–∞—Ç–∞ –∞–Ω–∞–ª–∏–∑–∞:** 3 —Ñ–µ–≤—Ä–∞–ª—è 2026  
**–í–µ—Ä—Å–∏—è:** 1.0
